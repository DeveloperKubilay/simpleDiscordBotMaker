<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SimpleDiscord - <%= data != "false" ? 'Edit Command' : 'Add Command' %></title>
    <script src="<%=icons%>" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/modern.css">
    <link rel="icon" href="/icons/websiteload.png" type="image/x-icon" />
    <script>
        function openNav() {
            document.getElementById("mySidenav").style.width = "260px";
            // Show the overlay when menu opens
            document.getElementById("menuOverlay").style.display = "block";
        }
        
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            // Hide the overlay when menu closes
            document.getElementById("menuOverlay").style.display = "none";
        }
    </script>
</head>
<body>
    <header class="header">
        <button class="menu-toggle" onclick="openNav()">
            <i class="fa-solid fa-bars"></i>
        </button>
        <a href="/" class="logo">SimpleDiscord</a>
    </header>
    
    <!-- Add a div for the menu overlay -->
    <div id="menuOverlay" class="menu-overlay" onclick="closeNav()"></div>
    
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="/dashboard"><i class="fa-solid fa-house"></i> Dashboard</a>
        <a href="/komutekle" class="active"><i class="fa-solid fa-file-code"></i> Add Command</a>
        <a href="/komutlar"><i class="fa-solid fa-file-lines"></i> Commands</a>
        <a href="/ayarlar"><i class="fa-solid fa-gears"></i> Settings</a>
        <a href="/out"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
    </div>
    
    <div class="wrapper">
        <div class="page-header">
            <h1>
                <i class="fa-solid <%= data != "false" ? 'fa-pen-to-square' : 'fa-plus' %>"></i>
                <%= data != "false" ? 'Edit Command: ' + data.ismi : 'Add New Command' %>
            </h1>
        </div>
        
        <form action="/komutlarekle" method="post" class="modern-form">
            <div class="card">
                <div class="card-header">
                    <h3><i class="fa-solid fa-info-circle"></i> Basic Information</h3>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label for="fname">Command Name</label>
                        <div class="input-with-icon">
                            <i class="fa-solid fa-code"></i>
                            <input 
                                type="text" 
                                id="fname" 
                                name="ismi" 
                                placeholder="Enter command name"
                                <% if(data != "false") { %>
                                    value="<%=data.ismi%>" 
                                    readonly="readonly"
                                <% } %>
                                required
                            >
                        </div>
                    </div>
                    
                    <div class="switch-container">
                        <label class="switch">
                            <input 
                                type="checkbox"
                                name="prefix" 
                                value="true"
                                <% if(data === "false") {%> checked="checked" <% } %>
                                <% if(!data === "false" || data.prefix === true) { %> checked="checked"<% } %>
                            >
                            <span class="slider"></span>
                        </label>
                        <label>Use prefix</label>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h3><i class="fa-solid fa-circle-nodes"></i> Actions</h3>
                </div>
                <div class="card-body">
                    <div class="action-options">
                        <div class="switch-container">
                            <label class="switch">
                                <input 
                                    type="checkbox"
                                    name="mesajyanıt" 
                                    value="true"
                                    <% if(data != "false") {%>
                                        <% if(data.indexjs.includes(`message.reply({`) === true) { %>
                                            checked="checked"
                                        <% } %>
                                    <% } %>
                                >
                                <span class="slider"></span>
                            </label>
                            <label>Reply to message</label>
                        </div>
                        
                        <div class="switch-container">
                            <label class="switch">
                                <input 
                                    type="checkbox"
                                    name="mesajsil" 
                                    value="true"
                                    <% if(data != "false") {%>
                                        <% if(data.indexjs.includes(`message.delete();`) === true) { %>
                                            checked="checked"
                                        <% } %>
                                    <% } %>
                                >
                                <span class="slider"></span>
                            </label>
                            <label>Delete message</label>
                        </div>
                        
                        <div class="switch-container">
                            <label class="switch warning-switch">
                                <input 
                                    type="checkbox"
                                    name="kanalsil" 
                                    value="true"
                                    <% if(data != "false") {%>
                                        <% if(data.indexjs.includes(`message.channel.delete();`) === true) { %>
                                            checked="checked"
                                        <% } %>
                                    <% } %>
                                >
                                <span class="slider warning"></span>
                            </label>
                            <label>Delete channel <span class="warning-text">(Use with caution)</span></label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h3><i class="fa-solid fa-cube"></i> Embed (optional)</h3>
                </div>
                <div class="card-body">
                    <h4>Embed Color</h4>
                    <div class="color-options">
                        <div class="radio-container">
                            <input 
                                type="radio" 
                                id="color-black" 
                                name="embed-renk" 
                                value=""
                                <% if(data === "false") {%> checked="checked" <% } %> 
                                <% if(data != "false") {%>
                                    <% if(data.indexjs.includes(`.setColor("`) === false) { %>
                                        checked="checked"
                                    <% } %>
                                <% } %>
                            >
                            <label for="color-black">
                                <span class="radio-checkmark"></span>
                                <span class="color-preview black"></span>
                                Black
                            </label>
                        </div>
                        
                        <div class="radio-container">
                            <input 
                                type="radio" 
                                id="color-white" 
                                name="embed-renk" 
                                value="#ffffff"
                                <% if(data != "false") {%>
                                    <% if(data.indexjs.includes(`.setColor("#ffffff")`) === true) { %>
                                        checked="checked"
                                    <% } %>
                                <% } %>
                            >
                            <label for="color-white">
                                <span class="radio-checkmark"></span>
                                <span class="color-preview white"></span>
                                White
                            </label>
                        </div>
                        
                        <div class="radio-container">
                            <input 
                                type="radio" 
                                id="color-red" 
                                name="embed-renk" 
                                value="#ff0000"
                                <% if(data != "false") {%>
                                    <% if(data.indexjs.includes(`.setColor("#ff0000")`) === true) { %>
                                        checked="checked"
                                    <% } %>
                                <% } %>
                            >
                            <label for="color-red">
                                <span class="radio-checkmark"></span>
                                <span class="color-preview red"></span>
                                Red
                            </label>
                        </div>
                        
                        <div class="radio-container">
                            <input 
                                type="radio" 
                                id="color-yellow" 
                                name="embed-renk" 
                                value="#ffff00"
                                <% if(data != "false") {%>
                                    <% if(data.indexjs.includes(`.setColor("#ffff00")`) === true) { %>
                                        checked="checked"
                                    <% } %>
                                <% } %>
                            >
                            <label for="color-yellow">
                                <span class="radio-checkmark"></span>
                                <span class="color-preview yellow"></span>
                                Yellow
                            </label>
                        </div>
                        
                        <div class="radio-container">
                            <input 
                                type="radio" 
                                id="color-green" 
                                name="embed-renk" 
                                value="#008000"
                                <% if(data != "false") {%>
                                    <% if(data.indexjs.includes(`.setColor("#008000")`) === true) { %>
                                        checked="checked"
                                    <% } %>
                                <% } %>
                            >
                            <label for="color-green">
                                <span class="radio-checkmark"></span>
                                <span class="color-preview green"></span>
                                Green
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <i class="fa-regular fa-address-card"></i> 
                            Image URL
                        </label>
                        <input 
                            type="text" 
                            name="embed-resim" 
                            placeholder="Enter image URL (e.g., https://example.com/image.png)"
                            <% if(data != "false") {%>
                                <% if(data.indexjs.includes(`.setImage("`) === true) { %>
                                    value="<%= data.indexjs.split(`.setImage("`)[1].split(`")`)[0] %>"
                                <% } %>
                            <% } %>
                        >
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <i class="fa-regular fa-address-card"></i> 
                            Thumbnail URL
                        </label>
                        <input 
                            type="text" 
                            name="embed-kücük-resim" 
                            placeholder="Enter thumbnail URL"
                            <% if(data != "false") {%>
                                <% if(data.indexjs.includes(`.setThumbnail("`) === true) { %>
                                    value="<%= data.indexjs.split(`.setThumbnail("`)[1].split(`")`)[0] %>"
                                <% } %>
                            <% } %>
                        >
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <i class="fa-solid fa-heading"></i> 
                            Embed Title
                        </label>
                        <input 
                            type="text" 
                            name="embed-başlık" 
                            placeholder="Enter title text"
                            <% if(data != "false") {%>
                                <% if(data.indexjs.includes(`.setTitle("`) === true) { %>
                                    value="<%= data.indexjs.split("\\n").join("[ALTSATIR]").split(`.setTitle("`)[1].split(`")`)[0] %>"
                                <% } %>
                            <% } %>
                        >
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <i class="fa-solid fa-align-left"></i> 
                            Embed Description <span class="text-muted">(Use [ALTSATIR] for new lines)</span>
                        </label>
                        <textarea 
                            name="embed-aciklama" 
                            rows="4" 
                            placeholder="Enter longer description text"
                        ><% if(data != "false") {%><% if(data.indexjs.includes(`.setDescription("`) === true) { %><%= data.indexjs.split("\\n").join("[ALTSATIR]").split(`.setDescription("`)[1].split(`")]`)[0] %><% } %><% } %></textarea>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h3><i class="fa-solid fa-message"></i> Message (optional)</h3>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label>
                            <i class="fa-solid fa-text-height"></i> 
                            Message Content <span class="text-muted">(Use [ALTSATIR] for new lines)</span>
                        </label>
                        <textarea 
                            name="mesajaga" 
                            rows="3" 
                            placeholder="Enter message text"
                        ><% if(data != "false") {%><% if(data.indexjs.includes(`content:"`) === true) { %><%= data.indexjs.split("\\n").join("[ALTSATIR]").split(`content:"`)[1].split(`"})`)[0] %><% } %><% } %></textarea>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h3><i class="fa-solid fa-code"></i> Development (optional)</h3>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label>
                            <i class="fa-solid fa-terminal"></i> 
                            Install Modules
                        </label>
                        <div class="input-with-icon">
                            <i class="fa-solid fa-box"></i>
                            <input 
                                type="text" 
                                name="terminal" 
                                placeholder="Enter modules to install (e.g., fs ffmpeg)"
                            >
                        </div>
                        <small class="text-muted">Separate module names with spaces</small>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <i class="fa-solid fa-code-branch"></i> 
                            Custom JavaScript
                        </label>
                        <textarea 
                            name="jskodu" 
                            rows="8" 
                            class="code-editor" 
                            placeholder="Enter custom JavaScript code (can be empty)"
                        ><% if(data != "false") {%><% if(data.indexjs.includes(`///javascript`) === true) { %><%= data.indexjs.split(`///javascript`)[1] %><% } %><% } %></textarea>
                    </div>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="button" onclick="location.href='/komutlar'">Cancel</button>
                <button type="submit" class="button button-success">
                    <i class="fa-solid <%= data != "false" ? 'fa-save' : 'fa-plus' %>"></i>
                    <%= data != "false" ? 'Save Changes' : 'Create Command' %>
                </button>
            </div>
        </form>
    </div>
    
    <style>
        .page-header {
            margin: 30px 0;
        }
        
        .page-header h1 {
            color: var(--text-heading);
            font-size: 28px;
            display: flex;
            align-items: center;
        }
        
        .page-header h1 i {
            color: var(--accent);
            margin-right: 12px;
        }
        
        .modern-form h4 {
            color: var(--text-normal);
            margin-bottom: 16px;
            font-size: 16px;
            font-weight: 500;
        }
        
        .action-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 16px;
        }
        
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 30px;
            margin-bottom: 30px;
        }
        
        .text-muted {
            color: var(--text-muted);
            font-size: 14px;
            font-weight: normal;
            margin-left: 8px;
        }
        
        small.text-muted {
            display: block;
            margin-top: 4px;
            margin-left: 0;
        }
        
        .code-editor {
            font-family: 'Fira Code', 'Courier New', monospace;
            background-color: var(--background-tertiary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-normal);
            border-radius: var(--border-radius);
            padding: 12px 16px;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .action-options {
                grid-template-columns: 1fr;
            }
            
            .form-actions {
                flex-direction: column-reverse;
            }
            
            .form-actions .button {
                width: 100%;
            }
        }
    </style>
</body>
</html>
